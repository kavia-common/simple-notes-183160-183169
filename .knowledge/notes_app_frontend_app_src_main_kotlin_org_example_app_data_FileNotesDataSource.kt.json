{"is_source_file": true, "format": "Kotlin", "description": "This file defines a class `FileNotesDataSource` responsible for persisting notes data as JSON in a file within an Android application. It provides methods to load and save notes, handling file creation, reading, writing, and error cases.", "external_files": ["android.content.Context", "org.json.JSONArray", "org.json.JSONObject", "java.io.File", "java.nio.charset.Charset"], "external_methods": ["System.currentTimeMillis()", "f.readText(Charset)", "f.exists()", "f.delete()", "tmp.writeText(String, Charset)", "tmp.renameTo(File)"], "published": ["org.example.app.data.FileNotesDataSource", "org.example.app.model.Note"], "classes": [{"name": "FileNotesDataSource", "description": "A class providing file-based persistence for notes in an Android app. It manages loading notes from and saving notes to a JSON file, creating initial seed content if the file does not exist, and handling file errors gracefully."}], "methods": [{"name": "loadNotes", "description": "Loads all notes from disk, creating a seed note if the storage file is missing or empty."}, {"name": "saveNotes", "description": "Saves a list of notes to disk as JSON, overwriting existing data atomically to prevent corruption."}], "calls": ["System.currentTimeMillis()", "f.readText(Charset)", "JSONArray(text)", "f.exists()", "f.readText(Charset)", "JSONArray(arr)", "arr.length()", "o.optString()", "o.optLong()", "tmp.writeText()", "f.delete()", "tmp.renameTo()"], "search-terms": ["FileNotesDataSource", "loadNotes", "saveNotes", "notes.json", "Android file-based notes", "JSON persistence Android"], "state": 2, "file_id": 4, "knowledge_revision": 16, "git_revision": "", "hash": "d4ae0fae98232487bd691140532fec0b", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/app/src/main/kotlin/org/example/app/data/FileNotesDataSource.kt", "revision_history": [{"16": ""}]}